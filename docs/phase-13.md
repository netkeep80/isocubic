# –§–∞–∑–∞ 13: MetaMode v2.0 ‚Äî –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º AI

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MetaMode v2.0 ‚Äî —Å–∏—Å—Ç–µ–º—ã —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º AI.

**–°—Ç–∞—Ç—É—Å**: üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (TASK 82, 83, 84, 85, 86 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)

---

## –û–±–∑–æ—Ä

**–¶–µ–ª—å**: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å MetaMode –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã `metamode.json` –≤ —Å–∏—Å—Ç–µ–º—É **inline-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–π** `@mm:`, –≥–¥–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∂–∏–≤—É—Ç –ø—Ä—è–º–æ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ ‚Äî —Ä—è–¥–æ–º —Å –æ–ø–∏—Å—ã–≤–∞–µ–º—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏.

**–ü—Ä–æ–±–ª–µ–º–∞**: MetaMode v1.x –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `metamode.json`, –∫–æ—Ç–æ—Ä—ã–µ:
- –õ–µ–≥–∫–æ —É—Å—Ç–∞—Ä–µ–≤–∞—é—Ç (–¥—Ä–µ–π—Ñ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
- –ù–µ —Å–≤—è–∑–∞–Ω—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏/–∫–ª–∞—Å—Å–∞–º–∏
- –î—É–±–ª–∏—Ä—É—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**: MetaMode v2.0 —Å —Å–∏—Å—Ç–µ–º–æ–π `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π:

1. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ JSDoc-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (`@mm:key=value`) –∏–ª–∏ runtime-—Å–≤–æ–π—Å—Ç–≤–∞ (`__mm`)
2. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏—Ö –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∏ —Å–æ–∑–¥–∞—ë—Ç –µ–¥–∏–Ω—É—é –ë–î
3. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ CI/CD
4. Runtime API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–≥–∞—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—Ä–æ—Å–æ–≤
5. AI –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ `exportForLLM`

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã MetaMode v2.0

1. **–û–Ω—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –±–ª–∏–∑–æ—Å—Ç—å** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∂–∏–≤—É—Ç —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º
2. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—è** ‚Äî —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
3. **AI –∫–∞–∫ first-class citizen** ‚Äî –±–æ–≥–∞—Ç—ã–π API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ LLM
4. **–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî —è–≤–Ω—ã–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
5. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** ‚Äî dual-mode: v1.x –∏ v2.0 —Å–æ—Å—É—â–µ—Å—Ç–≤—É—é—Ç

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MetaMode v2.0

### –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –§–∞–∑–∞ | –°—Ä–æ–∫ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|------|------|-----------|--------|
| **Phase 0: –ü–∞—Ä—Å–µ—Ä** | –ù–µ–¥–µ–ª—è 1 | –ü–∞—Ä—Å–µ—Ä `@mm:`, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (PR #272) |
| **Phase 1: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ë–î** | –ù–µ–¥–µ–ª—è 2-3 | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä `virtual:metamode/v2/db`, –ø–æ–ª–Ω—ã–π runtime API | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (TASK 82) |
| **Phase 2: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã** | –ù–µ–¥–µ–ª—è 4 | –°—Ö–µ–º–∞ + —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (TASK 83) |
| **Phase 3: AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | –ù–µ–¥–µ–ª—è 5 | –ü—Ä–æ–º–ø—Ç—ã, –∫–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä, pre-commit hook | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (TASK 84) |
| **Phase 4: Prod-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** | –ù–µ–¥–µ–ª—è 6 | Tree-shaking, —É—Å–ª–æ–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (TASK 85) |
| **Phase 5: CLI –∏ –º–∏–≥—Ä–∞—Ü–∏—è** | –ù–µ–¥–µ–ª—è 7 | –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CLI, –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä v1‚Üív2 | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ |
| **Phase 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | –ù–µ–¥–µ–ª—è 8 | –ì–∞–π–¥—ã, –ø—Ä–∏–º–µ—Ä—ã, migration guide | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ |

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
scripts/
‚îú‚îÄ‚îÄ metamode-annotation-parser.ts    # Phase 0: –ü–∞—Ä—Å–µ—Ä @mm: –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
‚îú‚îÄ‚îÄ metamode-semantic-validator.ts   # Phase 0+2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è + schema-validates ‚úÖ
‚îú‚îÄ‚îÄ metamode-migrate.ts              # Phase 0: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ v1‚Üív2
‚îú‚îÄ‚îÄ metamode-db-compiler.ts          # Phase 1: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ runtime API ‚úÖ
‚îú‚îÄ‚îÄ metamode-test-generator.ts       # Phase 2: AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π ‚úÖ
‚îú‚îÄ‚îÄ metamode-context-builder.ts      # Phase 3: –ö–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤ ‚úÖ
‚îî‚îÄ‚îÄ metamode-prod-optimizer.ts       # Phase 4: Production –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä (tree-shaking) ‚úÖ
schemas/
‚îî‚îÄ‚îÄ mm-annotation.schema.json        # Phase 2: JSON Schema –¥–ª—è @mm: –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π ‚úÖ
```

### Virtual modules

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
|--------|----------|--------|
| `virtual:metamode` | –ü–ª–æ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ metamode.json (v1.x) | v1 |
| `virtual:metamode/tree` | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ (v1.x) | v1 |
| `virtual:metamode/ai` | AI-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (v1.x) | v1 |
| `virtual:metamode/db` | –ï–¥–∏–Ω–∞—è –ë–î (v1.x, TASK 80) | v1 |
| `virtual:metamode/annotations` | –ò–Ω–¥–µ–∫—Å @mm: –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (v2.0, Phase 0) | v2 |
| `virtual:metamode/v2/db` | –ü–æ–ª–Ω–∞—è v2.0 –ë–î —Å runtime API (Phase 1, dev); stripped –≤ prod (Phase 4) | **v2** ‚úÖ |
| `virtual:metamode/v2/db/prod` | –í—Å–µ–≥–¥–∞ production-stripped –ë–î –±–µ–∑ internal –∑–∞–ø–∏—Å–µ–π (Phase 4) | **v2** ‚úÖ |

---

## –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ TASK

### TASK 82: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä MetaMode v2.0 DB ‚úÖ

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 1 ‚Äî DB Compiler –∏ –ø–æ–ª–Ω—ã–π Runtime API`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±–µ—Ä—ë—Ç –≤—Å–µ `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (–∏–∑ Phase 0) –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏—Ö –≤ –µ–¥–∏–Ω—É—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–Ω—ã–º runtime API.

**–ó–∞–¥–∞—á–∏**:

- [x] –°–æ–∑–¥–∞—Ç—å `scripts/metamode-db-compiler.ts` —Å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –ë–î
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `MmRuntimeApi` —Å –ø–æ–ª–Ω—ã–º API –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ MetaMode v2.0
- [x] –î–æ–±–∞–≤–∏—Ç—å `virtual:metamode/v2/db` –≤ Vite –ø–ª–∞–≥–∏–Ω
- [x] –û–±–Ω–æ–≤–∏—Ç—å `env.d.ts` —Å TypeScript —Ç–∏–ø–∞–º–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ virtual –º–æ–¥—É–ª—è
- [x] –î–æ–±–∞–≤–∏—Ç—å CLI –∫–æ–º–∞–Ω–¥—ã –≤ `package.json`
- [x] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã (75 —Ç–µ—Å—Ç–æ–≤)
- [x] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ `MmRuntimeApi`**:

```typescript
import mm from 'virtual:metamode/v2/db'

// –ü–æ–∏—Å–∫ –ø–æ ID
const component = mm.findById('param_editor')

// –ü–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
const stableUI = mm.findAll({ tags: ['ui'], status: 'stable' })
const byTag = mm.findByTag('utils', { visibility: 'public' })

// –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
const runtimeDeps = mm.getDependencies('param_editor', { type: 'runtime' })
const allDeps = mm.getDependencies('param_editor', { type: 'all', recursive: true })
const dependents = mm.getDependents('shader_utils')

// –¶–∏–∫–ª—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const cycle = mm.detectCycle('param_editor')
const allCycles = mm.findAllCycles()

// –í–∞–ª–∏–¥–∞—Ü–∏—è (–≤ dev-—Ä–µ–∂–∏–º–µ)
const { valid, errors, warnings } = mm.validate()

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è AI/LLM
const aiContext = mm.exportForLLM({
  scope: ['ui', 'lib'],
  format: 'compact',
  limit: 50
})

// –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const graph = mm.getGraph()
const dotGraph = mm.exportGraph({ format: 'dot' })
const jsonGraph = mm.exportGraph({ format: 'json', edgeType: 'runtime' })

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
console.log(mm.stats.totalAnnotations)
console.log(mm.buildInfo.version) // '2.0.0'
```

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/metamode-db-compiler.ts` ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ runtime API (383 —Å—Ç—Ä–æ–∫–∏)
- `src/lib/metamode-db-compiler.test.ts` ‚Äî 75 —Ç–µ—Å—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/vite-plugin-metamode.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω `virtual:metamode/v2/db` –º–æ–¥—É–ª—å
- `env.d.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã –¥–ª—è v2.0 API
- `package.json` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã `metamode:db:compile`, `metamode:db:graph`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏**:

- ‚úÖ `virtual:metamode/v2/db` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π runtime API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`findById`, `findAll`, `findByTag`, `getDependencies`, `getDependents`, `detectCycle`, `findAllCycles`, `validate`, `exportForLLM`, `getGraph`, `exportGraph`)
- ‚úÖ 75 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v1.x API —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `compiler`, `runtime-api`, `critical`

---

### TASK 83: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ (Phase 2) ‚úÖ

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 2 ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–†–∞—Å—à–∏—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∞ JSON Schema –¥–ª—è `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ `schema-validates`, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.

**–ó–∞–¥–∞—á–∏**:

- [x] –°–æ–∑–¥–∞—Ç—å `schemas/mm-annotation.schema.json` –¥–ª—è –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `@mm:` —Ñ–æ—Ä–º–∞—Ç–∞
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ `schema-validates` –≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `scripts/metamode-test-generator.ts` –¥–ª—è AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- [x] –î–æ–±–∞–≤–∏—Ç—å `metamode:generate-tests` –≤ npm —Å–∫—Ä–∏–ø—Ç—ã
- [x] –û–±–Ω–æ–≤–∏—Ç—å Vite –ø–ª–∞–≥–∏–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- [x] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Å—Ö–µ–º–Ω–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `schemas/mm-annotation.schema.json` ‚Äî JSON Schema –¥–ª—è `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (Draft-07)
- `scripts/metamode-test-generator.ts` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- `src/lib/metamode-schema-validator.test.ts` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è —Å—Ö–µ–º–Ω–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/metamode-semantic-validator.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ `schema-validates`, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `scripts/vite-plugin-metamode.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω `buildStart` —Ö—É–∫ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- `package.json` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã `metamode:generate-tests`, `metamode:generate-tests:dry`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏**:

- ‚úÖ `schemas/mm-annotation.schema.json` –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
- ‚úÖ –ü—Ä–∞–≤–∏–ª–æ `schema-validates` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ `metamode-test-generator.ts` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –ª—é–±–æ–≥–æ –º–æ–¥—É–ª—è —Å `@mm:id`
- ‚úÖ Vite –ø–ª–∞–≥–∏–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ
- ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è —Å—Ö–µ–º–Ω–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç: valid/invalid annotations, checkSchemaValidates, generateTestSuites, renderTestFile
- ‚úÖ CI/CD —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `validation`, `testing`, `high`

---

### TASK 84: AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Phase 3) ‚úÖ

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 3 ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤ (CodeGen, Refactor, DocGen) –Ω–∞ –æ—Å–Ω–æ–≤–µ v2.0 –ë–î. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω—ã –∏ pre-commit hook –ø–æ–¥–¥–µ—Ä–∂–∫–∞.

**–ó–∞–¥–∞—á–∏**:

- [x] –°–æ–∑–¥–∞—Ç—å `scripts/metamode-context-builder.ts` –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è AI-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- [x] –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ AI-–∞–≥–µ–Ω—Ç–æ–≤
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å pre-commit hook –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `@mm:` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `metamode:context` –∏ `metamode:ai:context`
- [x] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä–∞

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/metamode-context-builder.ts` ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä –∏ pre-commit –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (400+ —Å—Ç—Ä–æ–∫)
- `src/lib/metamode-context-builder.test.ts` ‚Äî —Ç–µ—Å—Ç—ã (100+ —Ç–µ—Å—Ç–æ–≤)

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `package.json` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã `metamode:context`, `metamode:ai:context`

**API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç-–±–∏–ª–¥–µ—Ä–∞**:

```typescript
import { buildContext, buildContextForAgent, suggestAnnotation, runPreCommitCheck } from './metamode-context-builder'

// Build context for a specific agent type
const ctx = buildContext(db, {
  agentType: 'codegen',   // 'codegen' | 'refactor' | 'docgen' | 'review' | 'generic'
  scope: ['ui', 'lib'],   // filter by tags
  ids: ['param_editor'],  // or by explicit IDs
  format: 'markdown',     // 'markdown' | 'json' | 'text'
  tokenBudget: 4000,      // max tokens (auto-trims if exceeded)
  includeDeps: true,      // expand runtime dependencies
})
console.log(ctx.prompt)   // ready-to-use LLM prompt

// Convenience wrapper
const refactorCtx = buildContextForAgent('refactor', db, { ids: ['shader_utils'] })

// Pre-commit: suggest annotation for a new file
const suggestion = suggestAnnotation('/project/src/lib/new-module.ts', db)

// Pre-commit hook: check all staged files
const missing = runPreCommitCheck(stagedFiles, db)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏**:

- ‚úÖ `buildContext` —Å–æ–±–∏—Ä–∞–µ—Ç AI-–∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ v2.0 –ë–î —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π scope, ids, filePaths —Ñ–∏–ª—å—Ç—Ä–æ–≤
- ‚úÖ 5 –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤: codegen, refactor, docgen, review, generic
- ‚úÖ Token budget enforcement ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- ‚úÖ Pre-commit –ø–æ–¥–¥–µ—Ä–∂–∫–∞: `suggestAnnotation` –∏ `runPreCommitCheck`
- ‚úÖ 3 —Ñ–æ—Ä–º–∞—Ç–∞ –≤—ã–≤–æ–¥–∞: markdown, json, text
- ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç: —à–∞–±–ª–æ–Ω—ã, –≤—ã–±–æ—Ä–∫—É, buildContext, suggestAnnotation, pre-commit

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `ai`, `context-builder`, `high`

---

### TASK 85: Production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Phase 4) ‚úÖ

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 4 ‚Äî Tree-shaking –∏ production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: —É–¥–∞–ª–µ–Ω–∏–µ `internal`-–∑–∞–ø–∏—Å–µ–π, —É—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç, –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–æ–≤—ã–π virtual module.

**–ó–∞–¥–∞—á–∏**:

- [x] –î–æ–±–∞–≤–∏—Ç—å tree-shaking –¥–ª—è `visibility: 'internal'` –≤ production
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç (dev vs prod database)
- [x] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–≤–µ—Ä—Ö–µ–¥ –±–∞–Ω–¥–ª–∞ ‚â§ +2%

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/metamode-prod-optimizer.ts` ‚Äî production –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä —Å tree-shaking (stripEntry, rebuildGraph, optimizeForProduction, analyzeBundleSize)
- `src/lib/metamode-prod-optimizer.test.ts` ‚Äî 39 —Ç–µ—Å—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/vite-plugin-metamode.ts` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –≤ production (`isProduction`); –¥–æ–±–∞–≤–ª–µ–Ω `virtual:metamode/v2/db/prod`
- `env.d.ts` ‚Äî TypeScript —Ç–∏–ø—ã –¥–ª—è `virtual:metamode/v2/db/prod` –∏ `MmProdEntry`
- `package.json` ‚Äî npm —Å–∫—Ä–∏–ø—Ç—ã `metamode:prod:optimize`, `metamode:prod:analyze`

**API**:

```typescript
import { optimizeForProduction, analyzeBundleSize } from './scripts/metamode-prod-optimizer'
import { compileV2Database } from './scripts/metamode-db-compiler'

const devDb = compileV2Database(process.cwd())
const prodDb = optimizeForProduction(devDb)
// prodDb: internal entries removed, dev-only fields stripped, AI objects collapsed

const report = analyzeBundleSize(devDb, prodDb)
console.log(`Saved ${report.savedBytes} bytes (${report.reductionPercent.toFixed(1)}%)`)
console.log(`Removed ${report.internalEntriesRemoved} internal entries`)
```

```typescript
// In application code:
// Dev builds ‚Äî includes ALL entries (full metadata for devtools)
import mm from 'virtual:metamode/v2/db'

// Always production-stripped (safe for any build mode):
import mmProd from 'virtual:metamode/v2/db/prod'
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏**:

- ‚úÖ `visibility: 'internal'` –∑–∞–ø–∏—Å–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ production –±–∞–Ω–¥–ª–∞
- ‚úÖ Dev-only –ø–æ–ª—è (filePath, line, source, entityName) –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ prod
- ‚úÖ AI objects (.summary) –∫–æ–ª–ª–∞–ø—Å–∏—Ä—É—é—Ç—Å—è –¥–æ —Å—Ç—Ä–æ–∫ –≤ prod
- ‚úÖ `virtual:metamode/v2/db` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ stripped –≤ production build
- ‚úÖ `virtual:metamode/v2/db/prod` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç stripped –±–∞–∑—É
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (—Ä—ë–±—Ä–∞ –∫ internal –∑–∞–ø–∏—Å—è–º —É–¥–∞–ª—è—é—Ç—Å—è)
- ‚úÖ 39 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ CLI: `npm run metamode:prod:optimize` –∏ `npm run metamode:prod:analyze`

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `optimization`, `production`, `medium`

---

### TASK 86: CLI –∏ –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (Phase 5) ‚úÖ

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 5 ‚Äî –ü–æ–ª–Ω—ã–π CLI –∏ –º–∏–≥—Ä–∞—Ü–∏—è v1‚Üív2`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞–±–æ—Ä CLI –∫–æ–º–∞–Ω–¥ –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ isocubic —Å v1 –Ω–∞ v2 –±–µ–∑ –ø–æ—Ç–µ—Ä—å.

**–ó–∞–¥–∞—á–∏**:

- [x] –£–±–µ–¥–∏—Ç—å—Å—è –≤–æ –≤—Å–µ—Ö CLI –∫–æ–º–∞–Ω–¥–∞—Ö –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é isocubic
- [x] –î–æ–±–∞–≤–∏—Ç—å dual-mode (v1 –∏ v2 —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- [x] –ù–∞–ø–∏—Å–∞—Ç—å migration guide

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:

- –°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `scripts/metamode-cli.ts` —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
  - `status` ‚Äî –æ–±–∑–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è MetaMode –≤ –ø—Ä–æ–µ–∫—Ç–µ
  - `parse [path]` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ `@mm:` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
  - `validate` ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –∏ —Å—Ö–µ–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
  - `migrate [--apply]` ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è v1.x ‚Üí v2.0
  - `compile [--stats] [--graph]` ‚Äî –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ë–î
  - `context [--agent <type>]` ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AI-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - `optimize [--stats]` ‚Äî production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
  - `generate-tests [--dry-run]` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
  - `help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è isocubic (32 —Ñ–∞–π–ª–∞ `metamode.json`, 374 –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)
- Dual-mode –∞–∫—Ç–∏–≤–µ–Ω: –æ–±–µ –≤–µ—Ä—Å–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  - v1.x: `virtual:metamode`, `virtual:metamode/tree`, `virtual:metamode/db`
  - v2.0: `virtual:metamode/v2/db`, `virtual:metamode/v2/db/prod`
- –°–æ–∑–¥–∞–Ω migration guide `docs/metamode-v2-migration.md`
- –î–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã: `metamode`, `metamode:status`, `metamode:cli`
- –ù–∞–ø–∏—Å–∞–Ω–æ 31 —Ç–µ—Å—Ç –≤ `src/lib/metamode-cli.test.ts`

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `scripts/metamode-cli.ts` ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- `docs/metamode-v2-migration.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- `src/lib/metamode-cli.test.ts` ‚Äî 31 —Ç–µ—Å—Ç

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:

- `package.json` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã `metamode`, `metamode:status`, `metamode:cli`
- `docs/phase-13.md` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω —Å—Ç–∞—Ç—É—Å TASK 86

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏**:

- ‚úÖ –ï–¥–∏–Ω—ã–π CLI —Å 8 –∫–æ–º–∞–Ω–¥–∞–º–∏ (parse, validate, migrate, compile, context, optimize, generate-tests, status)
- ‚úÖ Migration guide —Å–æ–∑–¥–∞–Ω (`docs/metamode-v2-migration.md`)
- ‚úÖ Dual-mode –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: v1.x –∏ v2.0 —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ 31 —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –í—Å–µ 3939 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ CI/CD —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `cli`, `migration`, `medium`

---

### TASK 87: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ–ª–∏–∑ (Phase 6)

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `MetaMode v2.0 Phase 6 ‚Äî –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ–ª–∏–∑`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è MetaMode v2.0: –≥–∞–π–¥—ã, –ø—Ä–∏–º–µ—Ä—ã, migration guide, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.

**–ó–∞–¥–∞—á–∏**:

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `metamode.md` —Å –ø–æ–ª–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π v2.0
- [ ] –°–æ–∑–¥–∞—Ç—å `docs/metamode-v2-migration.md`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ `examples/`
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å `README.md`

**–ú–µ—Ç–∫–∏**: `metamode`, `v2.0`, `documentation`, `low`

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è TASK

1. **TASK 82**: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä DB ‚úÖ
2. **TASK 83**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã (Phase 2) ‚úÖ
3. **TASK 84**: AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Phase 3) ‚úÖ
4. **TASK 85**: Production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Phase 4) ‚úÖ
5. **TASK 86**: CLI –∏ –º–∏–≥—Ä–∞—Ü–∏—è (Phase 5) ‚úÖ
6. **TASK 87**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ–ª–∏–∑ (Phase 6)

---

## –û—Ü–µ–Ω–∫–∞ –æ–±—ä—ë–º–∞ —Ä–∞–±–æ—Ç

| TASK | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|------|-----------|-----------|--------|
| 82. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä DB (Phase 1) | –í—ã—Å–æ–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ |
| 83. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã (Phase 2) | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∏–π | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ |
| 84. AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Phase 3) | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∏–π | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ |
| 85. Production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Phase 4) | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ |
| 86. CLI –∏ –º–∏–≥—Ä–∞—Ü–∏—è (Phase 5) | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ |
| 87. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Phase 6) | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–∏–π | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ |

---

## –í–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî v1.x API (`virtual:metamode`, `virtual:metamode/db`) –æ—Å—Ç–∞—ë—Ç—Å—è —Ä–∞–±–æ—á–∏–º
2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@mm:` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ —Ñ–∞–π–ª—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
3. **AI –∫–∞–∫ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞** ‚Äî –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Å —É—á—ë—Ç–æ–º AI-–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
4. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å** ‚Äî —Å–±–æ—Ä–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

---

**–ù–∞–∑–∞–¥ –∫ [README](../README.md)**
